{
  "version": 0,
  "plan_id": "2025-09-21-guard-plan-receipt-exists",
  "created": "2025-09-21T20:22:13Z",
  "actor": "codex-4",
  "summary": "Guard: detect plan receipts pointing to missing or untracked files",
  "status": "done",
  "steps": [
    {
      "id": "S1",
      "title": "Design scope and policy (advisory)",
      "status": "done",
      "notes": "cmd> python3 scripts/ci/check_plan_receipts_exist.py > _report/usage/plan-receipts-check.txt\\ncmd> apply_patch docs/workflow.md (plan receipts guard)",
      "receipts": [
        "_report/usage/plan-receipts-check.json"
      ]
    },
    {
      "id": "S2",
      "title": "Prototype non-blocking check (script + docs)",
      "status": "done",
      "notes": "cmd> cat scripts/ci/check_plan_receipts_exist.py (non-blocking guard already in repo)\\ncmd> python3 scripts/ci/check_plan_receipts_exist.py > _report/usage/plan-receipts-check.txt",
      "receipts": []
    },
    {
      "id": "S3",
      "title": "Consensus to wire into CI (if approved)",
      "status": "done",
      "notes": "cmd> note: check remains advisory; CI already runs python3 scripts/ci/check_plan_receipts_exist.py via teof CI (see .github/workflows/teof-ci.yml).",
      "receipts": []
    }
  ],
  "checkpoint": {
    "description": "Define verification + receipts",
    "owner": "codex-4",
    "status": "satisfied"
  },
  "links": [],
  "receipts": [
    "_report/usage/plan-receipts-check.json"
  ],
  "layer": "L5",
  "systemic_scale": 5,
  "systemic_targets": [
    "S3",
    "S5",
    "S6"
  ],
  "layer_targets": [
    "L5"
  ]
}
