{
  "version": 0,
  "plan_id": "2025-10-03-plan-schema-dedupe",
  "created": "2025-10-03T04:45:00Z",
  "actor": "codex-3",
  "summary": "Guard planner files against duplicate sections",
  "status": "in_progress",
  "stage": "in_progress",
  "steps": [
    {
      "id": "S1",
      "title": "Survey existing duplicate-key offenders",
      "status": "done",
      "stage": "done",
      "notes": "Inventory plans with repeated keys (e.g. duplicate steps arrays) and capture evidence under `_report/usage/plan-lint/`. Latest scan (2025-10-07) flagged `_plans/2025-09-23-repo-hygiene.plan.json` (duplicate `status`) and `_plans/2025-10-06-teof-btc-scoreboard.plan.json` (duplicate `receipts`). Remediated duplicates in `_plans/2025-09-23-repo-hygiene.plan.json` and `_plans/2025-10-06-teof-btc-scoreboard.plan.json`.",
      "receipts": [
        "_report/usage/plan-lint/duplicate-keys-20251003T044138Z.json",
        "_report/usage/plan-lint/duplicate-keys-20251007T224750Z.json"
      ]
    },
    {
      "id": "S2",
      "title": "Add planner lint for duplicate keys",
      "status": "queued",
      "stage": "queued",
      "notes": "Extend `tools.planner.validate` (or CI guard) to fail when JSON keys repeat within plan documents.",
      "receipts": []
    },
    {
      "id": "S3",
      "title": "Clean existing plans and document rule",
      "status": "queued",
      "stage": "queued",
      "notes": "Normalize current plans, record diffs, and update docs/workflow.md with the duplicate-key policy.",
      "receipts": []
    }
  ],
  "checkpoint": {
    "description": "Planner validator blocks duplicate keys; existing plans deduped with receipts",
    "owner": "codex-3",
    "status": "pending"
  },
  "links": [
    {
      "type": "advisory",
      "ref": "ADV-372e0fe3"
    }
  ],
  "receipts": [
    "_report/usage/plan-lint/duplicate-keys-20251003T044138Z.json",
    "_report/usage/plan-lint/duplicate-keys-20251007T224750Z.json"
  ],
  "layer": "L6",
  "systemic_scale": 6,
  "systemic_targets": [
    "S4",
    "S5",
    "S6",
    "S10"
  ],
  "layer_targets": [
    "L6"
  ]
}
